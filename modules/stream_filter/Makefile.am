stream_filterdir = $(pluginsdir)/stream_filter
stream_filter_PLUGINS =
stream_filter_LTLIBRARIES =
stream_filter_RPATH =
if HAVE_MERGE_PLUGINS
noinst_LTLIBRARIES += $(stream_filter_PLUGINS)
else
stream_filter_LTLIBRARIES += $(stream_filter_PLUGINS)
stream_filter_RPATH += -rpath '$(stream_filterdir)'
endif

libcache_read_plugin_la_SOURCES = stream_filter/cache_read.c
stream_filter_PLUGINS += libcache_read_plugin.la

libcache_block_plugin_la_SOURCES = stream_filter/cache_block.c
stream_filter_PLUGINS += libcache_block_plugin.la

libdecomp_plugin_la_SOURCES = stream_filter/decomp.c
if !HAVE_WIN32
if !HAVE_TVOS
stream_filter_PLUGINS += libdecomp_plugin.la
endif
endif

libinflate_plugin_la_SOURCES = stream_filter/inflate.c
libinflate_plugin_la_LIBADD = -lz
if HAVE_ZLIB
stream_filter_PLUGINS += libinflate_plugin.la
endif

libprefetch_plugin_la_SOURCES = stream_filter/prefetch.c
if !HAVE_WINSTORE
stream_filter_PLUGINS += libprefetch_plugin.la
endif

libhds_plugin_la_SOURCES = stream_filter/hds/hds.c

libhds_plugin_la_CFLAGS = $(AM_CFLAGS)
stream_filter_PLUGINS += libhds_plugin.la

librecord_plugin_la_SOURCES = stream_filter/record.c
stream_filter_PLUGINS += librecord_plugin.la

libaribcam_plugin_la_SOURCES = stream_filter/aribcam.c
libaribcam_plugin_la_CFLAGS = $(AM_CFLAGS) $(ARIBB25_CFLAGS)
libaribcam_plugin_la_LDFLAGS = $(AM_LDFLAGS) $(ARIBB25_LDFLAGS) $(stream_filter_RPATH)
libaribcam_plugin_la_LIBADD = $(ARIBB25_LIBS)
stream_filter_PLUGINS += $(LTLIBaribcam)
EXTRA_LTLIBRARIES += libaribcam_plugin.la

libaccesstweaks_plugin_la_SOURCES = stream_filter/accesstweaks.c
libaccesstweaks_plugin_la_LDFLAGS = $(AM_LDFLAGS) $(stream_filte_RPATH)
check_LTLIBRARIES += libaccesstweaks_plugin.la

libadf_plugin_la_SOURCES = stream_filter/adf.c
stream_filter_PLUGINS += libadf_plugin.la

libskiptags_plugin_la_SOURCES = stream_filter/skiptags.c
stream_filter_PLUGINS += libskiptags_plugin.la
